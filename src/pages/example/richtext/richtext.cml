<template>
<c-page title="richtext">
  <view class="container">
    <c-header title="richtext"></c-header>
    <c-richtext rich-data="{{richData}}" style="width: 400cpx;" c-bind:click="test"></c-richtext>
    <text>这是一段普通文本</text>
    <c-richtext rich-data="{{richData}}" style="width: 400cpx;"></c-richtext>
    <c-richtext rich-data="{{richData}}" style="width: 400cpx;"></c-richtext>
    <c-richtext rich-data="{{richData2}}" style="width: 500cpx;"></c-richtext>
  </view>
</c-page>

</template>
<script>
  import bridge from '../../../assets/js/bridge/index.js';
  import cml from 'chameleon-api'
  class Richtext   {

  data = {
    richData: {
      message: '这是一段富文本s，点击我可以弹出内容。用这个可以测试富文本展示和跳转逻辑',
      rich_message: [
        {"color": "#666666",
        "font_size": 28,
        "start": 0,
        "end": 3,
        "click": true,
        "callback": () => {
            bridge.alert({
              message: '点击生效了哦'
            })
          }
        },
        {
          "color": "#fc9153",
          "font_size": 28,
          "start": 8,
          "end": 21,
          "font_family": "",
          "font_weight": "bolder",
          "font_style": "oblique",
          "click": true,
          "callback": () => {
            bridge.alert({
              message: '点击生效了哦'
            })
          }
          },
          {
          "color": "#fc9153",
          "font_size": 28,
          "start": 22,
          "end": 23,
          "font_family": "",
          "font_weight": "bolder",
          "font_style": "oblique",
          "click": true,
          "callback": () => {
            bridge.alert({
              message: '点击生效了哦'
            })
          }
        }
      ]
    },
    richData2: {
      message: '这是一段富文本，点击我可以弹出内容。用这个可以测试富文本展示和跳转逻辑,这个配置了url参数',
      rich_message: [
        {"color": "#666666",
        "font_size": 28,
        "start": 0,
        "end": 3
        },
        {
          "color": "#fc9153",
          "font_size": 28,
          "start": 8,
          "end": 21,
          "font_family": "",
          "font_weight": "bolder",
          "font_style": "oblique",
          "url": "https://www.baidu.com/",
          "click": true,
          "callback": () => {
            bridge.alert({
              message: '点击生效了哦'
            })
          }
        }
      ]
    }
  }

  computed = {

  }

  watch  = {
  }

  methods = {
    test(e) {
      bridge.alert({
        message: JSON.stringify(e)
      })
    },
    clickHandle(){
      bridge.alert({
        message: '点击生效了哦'
      })
    }
  }

  beforeCreate() {
  }

  created() {
  }

  beforeMount() {
  }

  mounted() {
  }

  beforeDestroy() {
  }

  destroyed() {
  }
}

export default new Richtext();
</script>
<style scoped>
.container {
  width: 750cpx;
  /* height: 500cpx; */
  /* display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1; */
  background: red;
}
</style>
<script cml-type="json">
{
    "base": {
        "usingComponents": {
            "c-page": "/components/page/page",
            "c-header": "../../components/header/header",
            "c-richtext": "/components/richtext/richtext"
        },
        "navigationBarTitleText": "richtext",
        "backgroundTextStyle": "dark",
        "backgroundColor": "#E2E2E2"
    }
}
</script>
